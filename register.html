<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Registrar - União Literária</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
<header class="header">
  <h1>União Literária</h1>
  <p>Cadastro</p>
</header>

<main class="container">
  <section>
    <h2>Crie sua conta</h2>
    <form id="registerForm">
      <div class="form-control">
        <label>Email</label>
        <input type="email" name="email" required>
      </div>
      <div class="form-control">
        <label>Senha</label>
        <input type="password" name="password" required>
      </div>
      <button class="btn" type="submit">Registrar</button>
    </form>
  </section>
</main>

<footer class="footer">
  <p>© União Literária 2025</p>
</footer>

<script>
document.getElementById("registerForm").addEventListener("submit", async function(e){
  e.preventDefault();
  const formData = {
    email: this.email.value,
    password: this.password.value
  };
  try {
    const res = await fetch("https://uniaoliteraria.onrender.com", {
      method:"POST",
      headers:{"Content-Type":"application/json"},
      body:JSON.stringify(formData)
    });
    const data = await res.json();
    alert(data.message);
    if(data.ok){
      window.location.href = "login.html";
    }
  } catch(err){
    alert("Erro de conexão com servidor.");
  }
});
</script>
</body>
</html>
