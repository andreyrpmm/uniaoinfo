<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>União Literária - Início</title>
<link rel="stylesheet" href="styles.css">
</head>
<body>
<header class="header">
  <h1>União Literária</h1>
  <p>Conectando corações, página por página</p>
  <button id="logout-button" style="display: none;">Sair</button>

</header>
<nav>
  <a href="index.html">Início</a>
  <a href="acervo.html">Acervo</a>
  <a href="planos.html">Planos</a>
  <a href="contato.html">Contato</a>
</nav>
<main class="container">
  <section class="hero" id="home">
    <h2>Bem-vindo à sua Biblioteca Online de Romances</h2>
    <p>Leitura ilimitada, recomendações personalizadas e a curadoria que você merece.</p>
    <div class="plans">
      <div class="card">
        <h3>Gratuito</h3>
        <p><strong>R$ 0,00 por 7 dias!</strong></p>
        <p>Desfrute de nossos serviços por uma semana!</p>
        <a class="btn" href="planos.html#gratuito">Assine</a
          >
      </div>
      <div class="card">
        <h3>Essencial</h3>
        <p><strong>R$ 19,90/mês</strong></p>
        <p>Até 5 livros/mês</p>
        <a class="btn" href="planos.html#essencial">Assine</a>
      </div>
      <div class="card">
        <h3>Plus</h3>
        <p><strong>R$ 29,90/mês</strong></p>
        <p>Até 15 livros/mês</p>
        <a class="btn" href="planos.html#plus">Assine</a>
      </div>
      <div class="card">
        <h3>Premium</h3>
        <p><strong>R$ 39,90/mês</strong></p>
        <p>Acesso ilimitado</p>
        <a class="btn" href="planos.html#premium">Assine</a>
      </div>
    </div>
  </section>
  <section style="margin-top:22px;">
    <h3>Por que escolher a União Literária?</h3>
    <p class="notice">Curadoria especializada em romances, leitura offline, e comunidade ativa de leitores.</p>
  </section>
</main>
<footer class="footer">
  <p>Siga-nos: <strong>@uniaoliteraria</strong> — © União Literária 2025</p>
</footer>
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>

<script>
  // ===================================================================
  // Cole aqui o mesmo firebaseConfig
  const firebaseConfig = {
    apiKey: "AIzaSyD0EFysx1LOdplLslcERJe8j2OPqWjbdYs",
    authDomain: "uniaoliteraria-1a1e3.firebaseapp.com",
    projectId: "uniaoliteraria-1a1e3",
    storageBucket: "uniaoliteraria-1a1e3.firebasestorage.app",
    messagingSenderId: "141287274557",
    appId: "1:141287274557:web:824de4b0801cf329f29254",
    measurementId: "G-Y1GTM2TG6T"
};
  // ===================================================================

  // Inicializa o Firebase
  firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();

  // Pega o botão de logout que criamos no HTML
  const logoutButton = document.getElementById('logout-button');

  // O "porteiro" que verifica o estado do login
  auth.onAuthStateChanged((user) => {
    if (user) {
      // O usuário está logado.
      console.log("Usuário autenticado:", user.email);

      // NOVO: Mostra o botão de "Sair"
      logoutButton.style.display = 'block';

    } else {
      // O usuário NÃO está logado. Redireciona para a página de autenticação.
      console.log("Acesso negado. Redirecionando para login.");
      window.location.href = "auth.html";
    }
  });

  // NOVO: Adiciona a ação de clique para o botão de logout
  logoutButton.addEventListener('click', () => {
    auth.signOut()
      .then(() => {
        // Logout bem-sucedido
        alert("Você saiu da sua conta.");
        // Redireciona para a página de login após o logout
        window.location.href = "auth.html";
      })
      .catch((error) => {
        // Ocorreu um erro
        console.error("Erro ao fazer logout:", error);
      });
  });
</script>
